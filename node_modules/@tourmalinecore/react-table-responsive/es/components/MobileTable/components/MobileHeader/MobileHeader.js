import{slicedToArray as e,objectSpread2 as t}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import r,{useState as n}from"react";import l from"./components/MobileFiltrationPopup/MobileFiltrationPopup.js";import o from"./components/MobileSortingPopup/MobileSortingPopup.js";import{ReactComponent as a}from"../../../../assets/images/icon-search.svg.js";import{ReactComponent as i}from"../../../../assets/images/icon-times.svg.js";import{ReactComponent as s}from"../../../../assets/images/icon-filter.svg.js";import{ReactComponent as c}from"../../../../assets/images/icon-sort.svg.js";function m(m){var u=m.flatHeaders,b=m.setAllFilters,p=m.toggleSortBy,f=m.sortBy,g=m.filters,d=m.languageStrings,_=u.filter((function(e){return e.canFilter})),h=_.length,C=n(!1),E=e(C,2),v=E[0],S=E[1],j=u.filter((function(e){return e.canSort})),y=j.length,N=n(!1),F=e(N,2),P=F[0],B=F[1],M=d.searchLabel,R=_.find((function(e){return e.principalFilterableColumn})),k=g.some((function(e){return e.id===R.id}));return r.createElement("div",{className:"tc-table-mobile-header"},R&&r.createElement("div",{className:"tc-table-mobile-header__filter"},R.render("Filter",{inputPlaceholder:M}),r.createElement("div",{className:"tc-table-mobile-header__filter-icons"},k?r.createElement("button",{type:"button",className:"tc-table-mobile-header__filter-clear",onClick:function(){var e=g.map((function(e){return e.id===R.id?t(t({},e),{},{value:""}):e}));b(e)}},r.createElement(i,{className:"tc-table-mobile-header__filter-clear-icon"})):r.createElement(a,{className:"tc-table-mobile-header__filter-icon"}))),v&&r.createElement(l,{filterableColumns:_,setAllFilters:b,languageStrings:d,onClose:function(){return S(!1)}}),P&&r.createElement(o,{sortableColumns:j,toggleSortBy:p,sortByColumn:f[0],languageStrings:d,onClose:function(){return B(!1)}}),h>1&&r.createElement("button",{className:"tc-table-mobile-header__button",type:"button",onClick:function(){return S(!0)}},r.createElement(s,null)),y>0&&r.createElement("button",{className:"tc-table-mobile-header__button",type:"button",onClick:function(){return B(!0)}},r.createElement(c,null)))}export default m;
