import{slicedToArray as e}from"../../_virtual/_rollupPluginBabelHelpers.js";import t,{useState as a}from"react";import{ReactComponent as l}from"../../assets/images/icon-chevron-down.svg.js";import o from"../NoRecords/NoRecords.js";import n from"./components/MobileHeader/MobileHeader.js";import r from"./components/MobilePagination/MobilePagination.js";function c(c){var i=c.flatHeaders,m=c.setAllFilters,s=c.toggleSortBy,b=c.prepareRow,_=c.page,d=c.totalCount,u=c.setPageSize,g=c.state,E=g.pageSize,N=g.sortBy,p=g.filters,f=c.renderMobileTitle,v=c.noFooter,w=c.loading,y=c.actions,C=c.languageStrings,S=a(null),h=e(S,2),M=h[0],k=h[1],H=C.totalLabel,j=C.loadingLabel;return t.createElement("div",{className:"tc-table-mobile"},t.createElement(n,{flatHeaders:i,setAllFilters:m,languageStrings:C,toggleSortBy:s,sortBy:N,filters:p}),t.createElement("ul",{className:"tc-table-mobile__list"},_.map((function(e){return b(e),t.createElement("li",{className:"tc-table-mobile__row",key:e.id},t.createElement("div",{className:"tc-table-mobile__row-header"},t.createElement("h2",{className:"tc-table-mobile__row-title"},f(e)),t.createElement("button",{type:"button",className:"tc-table-mobile__row-trigger",onClick:function(){return e.id===M?k(null):k(e.id)}},t.createElement(l,{className:"tc-table-mobile__chevron tc-table-mobile__chevron--".concat(e.id===M?"up":"down")}))),M===e.id&&t.createElement("div",{className:"tc-table-mobile__row-inner"},t.createElement("div",{className:"tc-table-mobile__row-data"},e.cells.filter((function(e){return!e.column.nonMobileColumn})).map((function(e){return t.createElement("div",{key:"".concat(e.column.id),className:"tc-table-mobile__row-data-item ".concat(e.column.twoRowsMobileLayout?"tc-table-mobile__row-data-item--vertical":"")},t.createElement("div",{className:"tc-table-mobile__label"},e.render("Header")),t.createElement("div",{className:"tc-table-mobile__value"},e.render("Cell")))}))),y.length>0&&t.createElement("div",{className:"tc-table-mobile__actions"},y.filter((function(t){return t.show(e)})).map((function(a){return t.createElement("button",{key:"".concat(a.name,"-").concat(e.id),type:"button",className:"tc-table-mobile-action",onClick:function(t){return a.onClick(t,e)}},t.createElement("span",{className:"tc-table-mobile-action__inner"},a.renderIcon&&t.createElement("span",{className:"tc-table-mobile-action__icon"},a.renderIcon(e)),t.createElement("span",{className:"tc-table-mobile-action__label"},a.renderText(e))))})))))})),0===d&&t.createElement(o,{languageStrings:C}),!v&&!!d&&t.createElement("li",{className:"tc-table-mobile__row"},t.createElement("div",{className:"tc-table-mobile__row-header"},t.createElement("h2",{className:"tc-table-mobile__row-title"},H)),t.createElement("div",{className:"tc-table-mobile__row-inner"},t.createElement("div",{className:"tc-table-mobile__row-data"},i.filter((function(e){return!e.nonMobileColumn})).filter((function(e){return!e.noFooterColumn})).map((function(e){return t.createElement("div",{key:"total-".concat(e.id),className:"tc-table-mobile__row-data-item"},t.createElement("div",{className:"tc-table-mobile__label"},e.render("Header")),t.createElement("div",{className:"tc-table-mobile__value"},e.render("Footer")))}))))),t.createElement(r,{totalCount:d,setPageSize:u,pageSize:E,languageStrings:C})),w&&t.createElement("div",{className:"tc-table-mobile__loading-overlay"},j))}export default c;
